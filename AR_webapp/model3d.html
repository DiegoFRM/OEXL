<!DOCTYPE html>
<html>
<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
<!-- three.js library -->
<script src="https://aframe.io/releases/0.6.1/aframe.min.js"></script>
<script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>

  <script>
AFRAME.registerComponent('vidhandler', {
  // ...
  init: function () {
    // Set up initial state and variables.
    this.toggle = false;
    this.vid = document.querySelector("#vid")
    this.vid.pause();
  },
  tick:function(){
    
if(this.el.object3D.visible == true){
  if(!this.toggle){
     this.toggle = true;
     this.vid.play();
    }
  }else{
  this.toggle = false;
    this.vid.pause();
    }
  }
});
  </script>
    
    
    
<body style="margin : 0px; overflow: hidden;">
   
    
  <a-scene embedded arjs="sourceType: webcam;">

      
      

        <a-marker preset='kanji'>

          
        <a-entity scale="0.09 0.09 0.09" rotation="-90 90 -90" obj-model="obj: url(assets/Cartel_mini_GM.obj); mtl: url(assets/Cartel_mini_GM.mtl)">
        </a-entity>

      </a-marker>


      <a-assets>
          <video id="vid" src="assets/GBF_demo.mp4" loop="true" crossorigin></video>
      </a-assets> 
    <a-marker preset="hiro" vidhandler>
      <a-plane position='1 2 0' scale="2 2 2" width="2" rotation="-90 0 0" 
       material='transparent:true; opacity: 0.7; src:#vid'></a-plane>
    </a-marker>      
      
<a-entity camera></a-entity>   
  </a-scene>
    
    
    
    
</body>

</html>
